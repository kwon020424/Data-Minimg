##필요한 패키지 로드
library(dplyr)

##mtcars 데이터셋을 이용한 데이터 처리
mtcars %>%
  ##'cyl' 열을 기준으로 그룹화 -> 같은 실린더 수를 가진 차들끼리 묶어서 따로 연산하게 됨
  group_by(cyl) %>%
  
  ##각 그룹(같은 실린더 수 안에서)에서 마력(hp)이 가장 높은 행(차량)만 남김
  # max(hp)는 각 그룹 내에서 가장 높은 마력 값을 반환함
  # filter(hp == max(hp))는 이 값을 가진 차량만 선택
  filter(hp == max(hp)) %>%
  
  ##결과를 정렬 : cyl(실린더 수) 기준으로 오름차순 정렬하고, 같은 실린더 내에서는 hp(마력) 기준으로 내림차순 정렬
  arrange(cyl, desc(hp))